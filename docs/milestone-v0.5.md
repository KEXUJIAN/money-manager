# Milestone v0.5: 核心体验修复与功能增强

## 🎯 目标

完成 Milestone 0.5 版本迭代，涵盖核心逻辑修复（清除数据、浮点数精度）、用户体验优化（新增分类快捷入口、日历与备注框优化）、功能增强（明细表格与筛选）以及耗时操作的异步化处理。本次迭代极大提升了数据的准确性与应用交互体验。

## ✨ 已完成工作

### 1. 核心逻辑与数据安全
- **清除数据区分处理**：重构了 `DataManagementDialog` 里的清除逻辑。系统内置类别（`isBuiltin: true`）被安全保留。
- **单独特定账户数据清除（含 Bug 追踪修复）**：新增选择菜单与交互弹窗，可指定针对某个账户进行流水清除。并且在后续修复中完善了数据联动，确保在删除交易的同时准确实时重置对应账号余额。
- **浮点数计算保障**：引入了轻量化的高精度数学构件 `big.js`。改写了包含表单录入、余额累加、导入入库、图表与看板展示等所有涉及金额计算的节点，彻底解决了 JS 原生呈现的浮点数漂移误差问题。

### 2. 用户体验与界面的提升
- **首页快速新建分类**：记账面板的“分类”下拉菜单底部嵌入了 `+ 新建分类` 触发器，并关联了无需跳转的轻量级新建弹窗。
- **全局时间控件优化**：为首页“记一笔”重新设计了同款统一样式的日期组件，保留精确到分钟及快捷选当前时间机制，并平滑对齐了统计网页的时间维度选择。
- **备注输入框规范**：记账备注加强了表单验证，限制最大 50 字符并显示动态长度计数 `< 0/50 >`，同时禁止 TextArea 放大变形。
- **导入账单**：默认自动选中第一个可用账户，减少用户点击成本。

### 3. 功能增强：统计区交易明细表
- **TransactionsTable 组件**：在“统计分析”主面板下方开发并插入了全新明细表格组件。
- **独立多维筛选体系**：配备了响应式的高效连级筛选功能，支持内容文本检索、收支类型、特定账户的精确过滤。
- **专属时间筛选器**：实现了完全独立于总统计图的时间选取面版，复用高可用性的跨度选择体系组合操作。

### 4. 异步化耗时操作
- **全屏阻塞遮罩机制**：制作了通用的全屏 `LoadingMask`，在海量历史 TXT/JSON 的入库、脱库以及全量数据清洗执行期间使用 `isProcessing` 激活弹窗，隔绝了用户的界面扰动，提供明确的运行反馈。

## 🛠 技术债务与下期规划 (v0.6 预览)

- 逐步探索进一步的数据可视化（如收支对比的雷达图等）。
- 按需优化并支持移动端的专用响应式底栏/侧边栏布局细节。
- 更多对于账单历史文件的导入规则兼容性适配。
